/* Garbled text animations and special effects */

/* Garbled Text Styling */
.garbled-text {
  font-family: "Courier New", monospace;
  letter-spacing: 0.05em;
  position: relative;
  display: inline-block;
  /* Prevent layout shifts during animation */
  min-height: 1.2em;
  vertical-align: top;
  /* Use fixed-width font to prevent horizontal shifting */
  font-variant-numeric: tabular-nums;
}

.garbled-text.animated {
  animation: garble-flicker 2s ease-in-out infinite;
}

.garbled-text.corrupted {
  color: #ff6b6b;
  text-shadow:
    0 0 5px rgba(255, 107, 107, 0.5),
    1px 0 0 rgba(255, 107, 107, 0.3),
    -1px 0 0 rgba(107, 255, 107, 0.3);
}

.garbled-text.redacted {
  color: #333;
  background: linear-gradient(90deg, #666, #999, #666);
  -webkit-background-clip: text;
  background-clip: text;
  animation: redacted-pulse 1.5s ease-in-out infinite;
}

.garbled-text.glitched {
  color: #00ffff;
  text-shadow:
    0 0 3px #00ffff,
    2px 0 0 #ff0080,
    -2px 0 0 #00ff40;
  animation: glitch-shift 0.3s ease-in-out infinite;
}

.garbled-text.encrypted {
  color: #00ff00;
  font-family: "Orbitron", monospace;
  text-shadow: 0 0 8px rgba(0, 255, 0, 0.6);
  animation: matrix-rain 3s linear infinite;
}

.garbled-text.static {
  color: #ccc;
  text-shadow:
    0 0 2px rgba(255, 255, 255, 0.8),
    0 0 8px rgba(255, 255, 255, 0.3);
  animation: static-noise 0.1s steps(10) infinite;
}

.garbled-text.fragmented {
  color: #ffaa00;
  text-shadow:
    0 0 4px rgba(255, 170, 0, 0.6),
    1px 1px 0 rgba(255, 170, 0, 0.3);
  animation: fragment-drift 2.5s ease-in-out infinite;
}

/* Special locked node styling */
.node.is-locked .garbled-text {
  cursor: help;
  transition: all 0.3s ease;
}

.node.is-locked .garbled-text:hover {
  transform: scale(1.05);
  filter: brightness(1.2);
}

/* Garbled text animations */
@keyframes garble-flicker {
  0%, 100% { 
    opacity: 0.9; 
  }
  25% { 
    opacity: 1; 
    transform: translateX(0.5px); 
  }
  50% { 
    opacity: 0.7; 
    transform: translateX(-0.5px); 
  }
  75% { 
    opacity: 1; 
    transform: translateX(0px); 
  }
}

@keyframes redacted-pulse {
  0%, 100% {
    background: linear-gradient(90deg, #333, #666, #333);
    -webkit-background-clip: text;
    background-clip: text;
  }
  50% {
    background: linear-gradient(90deg, #666, #999, #666);
    -webkit-background-clip: text;
    background-clip: text;
  }
}

@keyframes glitch-shift {
  0% { 
    transform: translate(0); 
  }
  20% { 
    transform: translate(-1px, 1px); 
  }
  40% { 
    transform: translate(-1px, -1px); 
  }
  60% { 
    transform: translate(1px, 1px); 
  }
  80% { 
    transform: translate(1px, -1px); 
  }
  100% { 
    transform: translate(0); 
  }
}

@keyframes matrix-rain {
  0% {
    text-shadow: 0 0 8px rgba(0, 255, 0, 0.6);
    color: #00ff00;
  }
  25% {
    text-shadow: 0 0 12px rgba(0, 255, 0, 0.8);
    color: #40ff40;
  }
  50% {
    text-shadow: 0 0 8px rgba(0, 255, 0, 0.6);
    color: #00ff00;
  }
  75% {
    text-shadow: 0 0 4px rgba(0, 255, 0, 0.4);
    color: #00cc00;
  }
  100% {
    text-shadow: 0 0 8px rgba(0, 255, 0, 0.6);
    color: #00ff00;
  }
}

@keyframes static-noise {
  0% {
    text-shadow:
      0 0 2px rgba(255, 255, 255, 0.8),
      1px 0 0 rgba(255, 255, 255, 0.5);
  }
  10% {
    text-shadow:
      0 0 3px rgba(255, 255, 255, 0.9),
      -1px 0 0 rgba(255, 255, 255, 0.6);
  }
  20% {
    text-shadow:
      0 0 1px rgba(255, 255, 255, 0.7),
      0 1px 0 rgba(255, 255, 255, 0.4);
  }
  30% {
    text-shadow:
      0 0 4px rgba(255, 255, 255, 1),
      1px 1px 0 rgba(255, 255, 255, 0.7);
  }
  40% {
    text-shadow:
      0 0 2px rgba(255, 255, 255, 0.8),
      -1px -1px 0 rgba(255, 255, 255, 0.5);
  }
  50% {
    text-shadow:
      0 0 5px rgba(255, 255, 255, 1.2),
      2px 0 0 rgba(255, 255, 255, 0.8);
  }
  60% {
    text-shadow:
      0 0 1px rgba(255, 255, 255, 0.6),
      0 -1px 0 rgba(255, 255, 255, 0.3);
  }
  70% {
    text-shadow:
      0 0 3px rgba(255, 255, 255, 0.9),
      -2px 0 0 rgba(255, 255, 255, 0.6);
  }
  80% {
    text-shadow:
      0 0 2px rgba(255, 255, 255, 0.8),
      1px -1px 0 rgba(255, 255, 255, 0.4);
  }
  90% {
    text-shadow:
      0 0 4px rgba(255, 255, 255, 1),
      -1px 1px 0 rgba(255, 255, 255, 0.7);
  }
  100% {
    text-shadow:
      0 0 2px rgba(255, 255, 255, 0.8),
      0 0 0 rgba(255, 255, 255, 0.5);
  }
}

@keyframes fragment-drift {
  0%, 100% {
    transform: translateY(0);
    opacity: 0.9;
  }
  25% {
    transform: translateY(-1px) translateX(0.5px);
    opacity: 1;
  }
  50% {
    transform: translateY(1px) translateX(-0.5px);
    opacity: 0.8;
  }
  75% {
    transform: translateY(-0.5px) translateX(0.3px);
    opacity: 1;
  }
}